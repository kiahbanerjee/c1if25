<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dreams of the Ocean</title>

  <!-- Funnel Display font -->
  <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@400;700&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      background: url("ocean.jpg") center center / cover no-repeat;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
      color: #000000;
      position: relative;
    }

    .nav-arrow {
      position: fixed;
      top: 1.2rem;
      font-size: 0.95rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #000000;
      text-decoration: none;
      z-index: 5;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .nav-prev { left: 1.5rem; }
    .nav-next { right: 1.5rem; }

    .fixed-title {
      position: fixed;
      top: 1.4rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2.6rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: #000000;
      z-index: 4;
      pointer-events: none;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 700;
    }

    .fixed-subtitle {
      position: fixed;
      top: 4.6rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.9rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      opacity: 0.85;
      z-index: 4;
      pointer-events: none;
      color: #000000;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .content {
      position: relative;
      z-index: 1;
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      text-align: center;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .title {
      display: none;
    }

    .interp {
      display: none;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .subtitle {
      display: none;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .number {
      position: absolute;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      color: #000000;
      cursor: pointer;
      z-index: 3;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
      box-shadow: 0 3px 8px rgba(0,0,0,0.25);
    }

    .popup-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.35);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 6;
    }

    .popup-overlay.visible {
      display: flex;
    }

    .popup-circle {
      width: 360px;
      height: 360px;
      border-radius: 50%;
      background: rgba(113, 154, 180, 0.9);
      color: #000000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      text-align: center;
      box-shadow:
        0 0 24px rgba(80, 107, 123, 0.8),
        0 0 48px rgba(104, 139, 161, 0.6);
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .popup-text {
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 1.5rem;
      white-space: pre-line;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .popup-button {
      padding: 0.6rem 1.4rem;
      border-radius: 999px;
      border: 1px solid #0a1d37;
      background: #576d8b;
      color: #ffffff;
      font-size: 0.9rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
      font-family: "Funnel Display", system-ui, sans-serif;
      font-weight: 400;
    }

    .popup-button:hover {
      background: #102e58;
      border-color: #0a192d;
    }
  </style>
</head>
<body>
  <a href="Dream-7.html" class="nav-arrow nav-prev">← Previous</a>
  <a href="End.html" class="nav-arrow nav-next">Next →</a>

  <div class="fixed-title">DREAMS OF THE OCEAN</div>
  <div class="fixed-subtitle">
    Catch the bubbles to find your meaning.
  </div>

  <div class="content">
    <div class="title" id="mainTitle">DREAMS OF THE OCEAN</div>
    <div class="interp" id="interpText"></div>
    <div class="subtitle">
      Catch the bubbles to find your meaning.
    </div>
  </div>

  <div id="popupOverlay" class="popup-overlay">
    <div class="popup-circle">
      <div id="popupText" class="popup-text"></div>
      <button id="popupDone" class="popup-button">Done</button>
    </div>
  </div>

  <audio id="oceanAudio" src="ocean.mp3" loop autoplay></audio>
  <audio id="bubbleAudio" src="bubble.mp3" preload="auto"></audio>

  <script>
    const mainTitle = document.getElementById('mainTitle');
    const oceanAudio = document.getElementById('oceanAudio');
    const bubbleAudio = document.getElementById('bubbleAudio');

    const popupOverlay = document.getElementById('popupOverlay');
    const popupText = document.getElementById('popupText');
    const popupDone = document.getElementById('popupDone');

    const interps = [
      "Emotional Depth:\nThe ocean often represents the subconscious, suggesting you’re processing deep or hidden emotions.",
      "Overwhelm:\nA rough or stormy ocean can symbolize feeling overwhelmed or losing control in waking life.",
      "Freedom:\nCalm, open water can reflect a desire for freedom, exploration, or escape.",
      "Transition:\nThe ocean’s tides can symbolize major life changes or shifting phases.",
      "Spirituality:\nMany traditions view the ocean as a symbol of intuition, healing, or spiritual awakening.",
      "Mystery:\nDeep or dark water can indicate uncertainty about the future or fear of the unknown.",
      "Creativity:\nThe vastness of the ocean may reflect creative potential waiting to be explored.",
      "Release:\nSwimming or floating in the ocean can symbolize letting go of stress or emotional burdens."
    ];

    setTimeout(() => {
      mainTitle.style.opacity = 0;
    }, 2000);

    document.addEventListener('click', () => {
      if (oceanAudio.paused) {
        oceanAudio.play().catch(() => {});
      }
    }, { once: true });

    function openPopupFor(index) {
      popupText.textContent = interps[index];
      popupOverlay.classList.add('visible');
    }

    function closePopup() {
      popupOverlay.classList.remove('visible');
    }

    popupDone.addEventListener('click', closePopup);
    popupOverlay.addEventListener('click', (e) => {
      if (e.target === popupOverlay) {
        closePopup();
      }
    });

    const NUM_COUNT = interps.length;
    const bubbles = [];

    function createFloatingNumbers() {
      for (let i = 0; i < NUM_COUNT; i++) {
        const span = document.createElement('span');
        span.className = 'number';
        const label = i + 1;
        span.textContent = label;

        const startX = Math.random() * 80 + 10;
        const startY = Math.random() * 60 + 20;

        span.style.left = startX + 'vw';
        span.style.top = startY + 'vh';

        span.addEventListener('click', (e) => {
          e.stopPropagation();
          bubbleAudio.currentTime = 0;
          bubbleAudio.play().catch(() => {});
          openPopupFor(i);
        });

        document.body.appendChild(span);

        const angle = Math.random() * Math.PI * 2;
        const speed = 0.02 + Math.random() * 0.04;
        const vx = Math.cos(angle) * speed;
        const vy = Math.sin(angle) * speed;

        bubbles.push({
          el: span,
          x: (startX / 100) * window.innerWidth,
          y: (startY / 100) * window.innerHeight,
          vx,
          vy
        });
      }
    }

    createFloatingNumbers();

    let lastTime = null;
    function animate(time) {
      if (lastTime == null) lastTime = time;
      const dt = time - lastTime;
      lastTime = time;

      const w = window.innerWidth;
      const h = window.innerHeight;

      bubbles.forEach(b => {
        b.x += b.vx * dt;
        b.y += b.vy * dt;

        if (b.x < 0) { b.x = 0; b.vx *= -1; }
        if (b.x > w - 60) { b.x = w - 60; b.vx *= -1; }
        if (b.y < 0) { b.y = 0; b.vy *= -1; }
        if (b.y > h - 60) { b.y = h - 60; b.vy *= -1; }

        b.el.style.left = b.x + 'px';
        b.el.style.top = b.y + 'px';
      });

      requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
  </script>
</body>
</html>
